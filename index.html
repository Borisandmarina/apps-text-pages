<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <title>AppS-Text Pro ‚Äî –û–ø–ª–∞—Ç–∞</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 600px;
      margin: 40px auto;
      line-height: 1.6;
    }
    input {
      padding: 8px;
      width: 100%;
      margin: 10px 0;
    }
    button {
      padding: 10px 20px;
      background: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:disabled {
      background: #aaa;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<h1>AppS-Text Pro: –ü—Ä–∏–¥–±–∞–Ω–Ω—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è</h1>

<p>
  –í–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –≤–µ—Ä—Å—ñ—é <strong>AppS-Text Pro</strong> –æ–¥—Ä–∞–∑—É –ø—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏.
</p>

<h3>üîÑ –Ø–∫ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ–∫—É–ø–∫–∞:</h3>
<ol>
  <li>–í–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π email —Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥—ñ—Ç—å –π–æ–≥–æ –∫–æ–¥–æ–º</li>
  <li>–ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –æ–ø–ª–∞—Ç–∏ Monobank (—Å—É–º–∞ —Ç–∞ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –≤–∂–µ –∑–∞–ø–æ–≤–Ω–µ–Ω—ñ)</li>
  <li>–ü—ñ—Å–ª—è –æ–ø–ª–∞—Ç–∏ –≤–∞–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –±—É–¥–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ:</li>
  <ul>
    <li>üì¶ –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∞—Ä—Ö—ñ–≤ —ñ–∑ Pro-–≤–µ—Ä—Å—ñ—î—é</li>
    <li>üîë –ö–æ–¥ –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó</li>
  </ul>
</ol>

<hr>

<h3>üìß –í–≤–µ–¥—ñ—Ç—å –≤–∞—à—É –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –∞–¥—Ä–µ—Å—É</h3>
<input type="email" id="email" placeholder="example@gmail.com">
<button onclick="sendCode()">–û—Ç—Ä–∏–º–∞—Ç–∏ –∫–æ–¥ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è</button>

<div id="codeBlock" class="hidden">
  <h3>üîê –í–≤–µ–¥—ñ—Ç—å –∫–æ–¥ –∑ –ø–æ—à—Ç–∏</h3>
  <input type="text" id="code" placeholder="6-–∑–Ω–∞—á–Ω–∏–π –∫–æ–¥">
  <button onclick="verifyCode()">–ü—Ä–æ–¥–æ–≤–∂–∏—Ç–∏ –ø–æ–∫—É–ø–∫—É</button>
</div>

<p id="status" style="color: green;"></p>

<script>
  const sheetApiUrl = "https://script.google.com/macros/s/–í–ê–®_ID/exec"; // –∑–∞–º–µ–Ω–∏—Ç—å

  async function sendCode() {
    const email = document.getElementById("email").value.trim();
    if (!email || !email.includes('@')) return alert("–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω–∏–π email");

    const res = await fetch(`${sheetApiUrl}?action=send_code&email=${encodeURIComponent(email)}`);
    const data = await res.json();

    if (data.status === "ok") {
      document.getElementById("status").innerText = "–ö–æ–¥ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ –Ω–∞ –≤–∞—à—É –ø–æ—à—Ç—É";
      document.getElementById("codeBlock").classList.remove("hidden");
    } else {
      alert("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –∫–æ–¥—É");
    }
  }

  async function verifyCode() {
    const email = document.getElementById("email").value.trim();
    const code = document.getElementById("code").value.trim();

    const res = await fetch(`${sheetApiUrl}?action=verify_code&email=${encodeURIComponent(email)}&code=${code}`);
    const data = await res.json();

    if (data.status === "ok") {
      // –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ Monobank –∑ email —É —Ç–µ–∫—Å—Ç—ñ
      const monoUrl = `https://send.monobank.ua/9rVLotTqcy?amount=500&text=email=${encodeURIComponent(email)}`;
      window.location.href = monoUrl;
    } else {
      alert("–ù–µ–≤—ñ—Ä–Ω–∏–π –∫–æ–¥. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—à—Ç—É.");
    }
  }
</script>

</body>
</html>
